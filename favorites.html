<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThemeGram | Favorites</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.png">
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: black; color: white; }
        .ios-icon { border-radius: 22.5%; }
    </style>
</head>
<body class="pb-10">

    <header class="sticky top-0 z-40 bg-black/80 backdrop-blur-xl border-b border-gray-800 px-4 h-16 flex items-center justify-between">
        <a href="index.html" class="p-2 -ml-2 text-blue-400">
            <i data-lucide="chevron-left" class="w-6 h-6"></i>
        </a>
        <h1 class="font-bold text-lg">My Favorites</h1>
        <div class="w-10"></div>
    </header>

    <main class="p-4">
        <div id="favorites-grid" class="grid grid-cols-2 gap-4"></div>

        <div id="empty-state" class="hidden flex flex-col items-center justify-center py-24 text-gray-500">
            <i data-lucide="heart" class="w-16 h-16 mb-4 opacity-20"></i>
            <p class="font-medium text-lg">No favorites yet</p>
            <p class="text-sm">Heart a theme to see it here!</p>
            <a href="settings.html" class="mt-6 bg-blue-600 text-white px-8 py-3 rounded-full font-bold">Browse Themes</a>
        </div>
    </main>

    <script>
        const THEMES = [
            { id: '1', type: 'theme', title: 'XMAS2025', category: 'Holiday', url: 'https://drive.google.com/uc?export=download&id=1AaXbDRcdwMeS8FMoATDg0B9N7hJHJz_j', banner: 'https://t4.ftcdn.net/jpg/10/10/43/19/360_F_1010431938_C7cRbFEbiIKEKiEQa9nyuiU8Z7U6hfYF.jpg', colors: ['from-red-500', 'to-red-900'], isVIP: false, iconCount: 34, icons: [{t:'X',b:'red'},{t:'M',b:'lightred'},{t:'A',b:'pink'},{t:'S',b:'darkred'}] },
            { id: '2', type: 'theme', title: 'Rick And Morty', category: 'Cartoon', url: 'https://drive.google.com/uc?export=download&id=1jBNIQDMrtXD1IlVoR-K1INRd12Cb_2RV', banner: 'https://wallpapers-clan.com/wp-content/uploads/2025/01/rick-and-morty-action-portal-pc-wallpaper-preview.jpg', colors: ['from-green-500', 'to-blue-900'], isVIP: false, iconCount: 21, icons: [{t:'R',b:'green'},{t:'I',b:'lightgreen'},{t:'C',b:'yellow'},{t:'K',b:'cyan'}] },
            { id: '3', type: 'theme', title: 'Black And White', category: 'Basic', url: 'https://drive.google.com/uc?export=download&id=1HZmhc4IHorbTeQIHYeNbOSejUpvgyK3J', banner: 'https://i.pinimg.com/736x/71/fc/5e/71fc5e7426b615ded2dfb6c76f61db98.jpg', colors: ['from-gray-700', 'to-black'], isVIP: false, iconCount: 85, icons: [{t:'B',b:'black'},{t:'A',b:'white'},{t:'N',b:'white'},{t:'W',b:'black'}] },
            { id: '4', type: 'theme', title: 'Black 3D', category: 'Basic', url: 'https://drive.google.com/uc?export=download&id=1X6lGMkn-jGhCt1CVDobgaHFaxp7qrrs8', banner: 'https://t4.ftcdn.net/jpg/08/56/45/55/360_F_856455528_cej2Ab07SukGDZWvk9B3oECAYy3VEH9x.jpg', colors: ['from-zinc-800', 'to-black'], isVIP: false, iconCount: 72, icons: [{t:'3',b:'black'},{t:'D',b:'black'},{t:'B',b:'black'},{t:'W',b:'black'}] },  
            { id: '5', type: 'theme', title: 'Blue Neon', category: 'Neon', url: 'https://drive.google.com/uc?export=download&id=1BBVMvQoYyCMb0wGqfa7o8HFSQyatiKav', banner: 'https://t4.ftcdn.net/jpg/04/90/51/93/360_F_490519300_Z0dytyKEoKE7eR6Pa0XlEkI0DJCnVaAc.jpg', colors: ['from-blue-600', 'to-indigo-950'], isVIP: false, iconCount: 68, icons: [{t:'B',b:'darkblue'},{t:'L',b:'darkblue'},{t:'U',b:'darkblue'},{t:'E',b:'darkblue'}] },
            { id: '6', type: 'theme', title: 'Halloween', category: 'Holiday', url: 'https://drive.google.com/uc?export=download&id=1gfqNtebl63wCr9C6a4iiSAlnwJmI0KxI', banner: 'https://img.freepik.com/free-photo/digital-art-halloween-illustration_23-2151822706.jpg?semt=ais_hybrid&w=740&q=80', colors: ['from-orange-600', 'to-black'], isVIP: false, iconCount: 70, icons: [{t:'J',b:'orange'},{t:'A',b:'black'},{t:'C',b:'black'},{t:'K',b:'black'}] },  
        ];

        function renderFavorites() {
            const favoritesIds = JSON.parse(localStorage.getItem('themePackFavorites') || '[]');
            const grid = document.getElementById('favorites-grid');
            const emptyState = document.getElementById('empty-state');
            
            grid.innerHTML = '';
            const favThemes = THEMES.filter(t => favoritesIds.includes(t.id));

            if (favThemes.length === 0) {
                emptyState.classList.remove('hidden');
                return;
            }

            emptyState.classList.add('hidden');

            favThemes.forEach(theme => {
                const card = document.createElement('div');
                card.className = "bg-gray-900 rounded-2xl border border-gray-800 overflow-hidden relative active:scale-95 transition-all";
                card.innerHTML = `
                    <a href="index.html#theme-${theme.id}" class="block">
                        <div class="h-32 bg-gradient-to-br ${theme.colors[0]} ${theme.colors[1]} flex items-center justify-center">
                            <img src="https://placehold.co/60x60/${theme.icons[0].b}/fff/png?text=${theme.icons[0].t}" class="w-12 h-12 ios-icon shadow-lg">
                        </div>
                        <div class="p-3">
                            <h3 class="font-bold text-sm truncate">${theme.title}</h3>
                            <p class="text-[10px] text-gray-500">${theme.category}</p>
                        </div>
                    </a>
                    <button onclick="removeFav(event, '${theme.id}')" class="absolute top-2 right-2 p-1.5 bg-black/40 backdrop-blur-md rounded-full text-pink-500 z-10">
                        <i data-lucide="heart" class="w-4 h-4 fill-current"></i>
                    </button>
                `;
                grid.appendChild(card);
            });
            lucide.createIcons();
        }

        function removeFav(event, id) {
            event.preventDefault();
            event.stopPropagation();
            let favorites = JSON.parse(localStorage.getItem('themePackFavorites') || '[]');
            favorites = favorites.filter(fid => fid !== id);
            localStorage.setItem('themePackFavorites', JSON.stringify(favorites));
            renderFavorites();
        }

        window.onload = renderFavorites;
    </script>
</body>
</html>